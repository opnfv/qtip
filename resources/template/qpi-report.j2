---
name: Sample QPI Report
pod: {{ pod_result.score }}
hosts:
-
{% for host in groups['compute'] %}
{% set qpi_result = hostvars[host].qpi_result %}
    hosts: {{ hostvars[host].ansible_hostname }}
    qpi: {{ qpi_result.score }}
    spec: {{ qpi_result.spec.name }}
    sections:
{% for section in qpi_result.section_results %}
- {{ section.name }}: {{ section.result.score }}
{% for metric in section.result.metric_results %}
  - {{ metric.name }}: {{ metric.result.score }}
{% for workload in metric.result.workload_results %}
    - {{ workload.name }}: {{ workload.score }}
{% endfor %}
{% endfor %}
{% endfor %}
{% endfor %}
